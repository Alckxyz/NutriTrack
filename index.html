<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriTrack - Calories & Nutrients Counter</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styles-ui.css">
    <link rel="stylesheet" href="styles-meals.css">
    <link rel="stylesheet" href="styles-modals.css">
    <link rel="stylesheet" href="styles-responsive.css">
    <script type="importmap">
        {
          "imports": {
            "sortablejs": "https://esm.sh/sortablejs@1.15.2",
            "firebase/app": "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js",
            "firebase/auth": "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js",
            "firebase/database": "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"
          }
        }
    </script>
</head>
<body>
    <header>
        <div class="header-left">
            <div class="logo-container">
                <img src="icon_logo.png" alt="NutriTrack Logo" class="logo">
                <h1>NutriTrack</h1>
            </div>

        </div>
        <div class="header-actions">
            <div id="user-profile" class="hidden">
                <img id="user-avatar" src="" alt="Avatar" style="width: 32px; height: 32px; border-radius: 50%; vertical-align: middle;">
                <button id="logout-btn" class="secondary-btn" style="padding: 4px 8px; font-size: 0.7rem;">Logout</button>
            </div>
            <button id="login-btn" class="primary-btn">Login with Google</button>
            <button id="manage-db-btn" class="secondary-btn" data-t="manage_db">üçé Food List</button>
            <button id="manage-recipes-btn" class="secondary-btn" data-t="manage_recipes">üìñ Recipes</button>
            <button id="settings-btn" class="secondary-btn" title="Settings" data-t="settings_btn">‚öôÔ∏è Settings</button>
            <input type="file" id="file-input" style="display: none;">
        </div>
    </header>

    <main>
        <section class="summary-card">
            <h2 data-t="daily_summary">Daily Summary</h2>
            <div class="stats-grid">
                <div class="stat-item" id="stat-calories">
                    <span class="label" data-t="calories">Calories</span>
                    <span class="value">0</span>
                    <span class="unit">kcal</span>
                </div>
                <div class="stat-item" id="stat-protein">
                    <span class="label" data-t="protein">Protein</span>
                    <span class="value">0</span>
                    <span class="unit">g</span>
                </div>
                <div class="stat-item" id="stat-carbs">
                    <span class="label" data-t="carbs">Carbs</span>
                    <span class="value">0</span>
                    <span class="unit">g</span>
                </div>
                <div class="stat-item" id="stat-fat">
                    <span class="label" data-t="fat">Fat</span>
                    <span class="value">0</span>
                    <span class="unit">g</span>
                </div>
            </div>
            <div class="micros-summary" id="total-micros">
                <!-- Vitamins and minerals totals here -->
            </div>
        </section>

        <section class="planner-container">
            <div class="section-header">
                <div class="planner-title-area">
                    <h2 id="planner-title" data-t="meals">Meals</h2>
                    <div id="date-picker-container" class="date-picker-container hidden">
                        <div class="date-picker-controls">
                            <button id="prev-day-btn" class="secondary-btn" title="Previous Day">&larr;</button>
                            <input type="date" id="plan-date-picker">
                            <button id="next-day-btn" class="secondary-btn" title="Next Day">&rarr;</button>
                        </div>
                        <span id="day-name-display"></span>
                    </div>
                </div>
                <button id="add-meal-btn" class="add-btn" data-t="add_meal">+ Add Meal</button>
            </div>
            <div id="meals-list" class="meals-list">
                <!-- Meals will be injected here -->
            </div>
        </section>
    </main>

    <!-- Modals Container: All modals are injected via modals-html.js to keep index.html clean -->
    <div id="modals-outlet"></div>

    <div class="fab-container">
        <button id="open-db-modal" class="fab" title="Add Food to List">+</button>
    </div>

    <!-- Datalist for micronutrient name suggestions -->
    <datalist id="nutrient-suggestions"></datalist>

    <script type="module" src="script.js"></script>
</body>
</html>